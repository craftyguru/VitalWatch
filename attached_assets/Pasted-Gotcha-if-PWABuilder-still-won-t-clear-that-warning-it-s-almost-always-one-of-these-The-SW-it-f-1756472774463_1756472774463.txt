Gotcha — if PWABuilder still won’t clear that warning, it’s almost always one of these:

The SW it fetches isn’t at the root scope (or not the one you think is active)

The SW is a module or bundled in a way the scanner can’t “see” the classic sync listener

The app never registers a SyncManager tag at runtime

Old SW/caches are still served

Here’s the most bullet-proof fix that PWABuilder reliably detects.

A. Ship a tiny, classic SW at site root

File: /public/sw-pwa.js (served as /sw-pwa.js, non-module)

/* PWABuilder-detectable Background Sync */
self.addEventListener('install', (e) => self.skipWaiting());
self.addEventListener('activate', (e) => self.clients.claim());

// Minimal detectable sync handler
self.addEventListener('sync', (event) => {
  if (event.tag === 'pwabuilder-sync') {
    event.waitUntil((async () => {
      // No-op is fine; PWABuilder only checks the pattern exists
      console.log('[SW] pwabuilder-sync fired');
    })());
  }
});


Keep your real Workbox/queue SW as-is if you want. This tiny SW is only to satisfy the detector. If you already use another SW, you can merge the listener above into that file instead.

B. Register it at the root scope

In your boot code (e.g., client/src/main.tsx):

if ('serviceWorker' in navigator) {
  // Make sure this path serves from the site root, e.g. https://yourdomain.com/sw-pwa.js
  navigator.serviceWorker.register('/sw-pwa.js', { scope: '/' })
    .then(async (reg) => {
      // Explicit tag registration so scanners can see it
      if ('sync' in reg && 'SyncManager' in window) {
        try {
          await reg.sync.register('pwabuilder-sync');
          console.log('Background Sync tag registered');
        } catch (err) {
          console.debug('Sync register failed (likely blocked or unsupported):', err);
        }
      }
    })
    .catch(console.error);
}


Important details

Don’t use type: 'module' for this file.

Ensure it’s actually served at /sw-pwa.js (Vite: anything in public/ is copied to root).

If you already register a SW elsewhere, either:

Replace that registration path with /sw-pwa.js, or

Merge the sync listener above into your existing SW and keep a single registration.